<div class="dashboard-container">
  <!-- Sidebar -->
  <div class="sidebar">
    <h2>Tienda Online</h2>
    <nav>
      <a > PDF</a>
      <a >Ventas</a>
      <a >Clientes</a>
    </nav>
  </div>

  <!-- Contenido principal -->
  <main class="main-content">
    <div class="product-card">
      <div class="page-title">Nuevo Producto</div>

      <!-- Sección: Información básica -->
      <div class="product-section">
        <div class="section-header">Información Básica</div>
        <div class="input-group">
          <label>Marca</label>
          <input type="text" [(ngModel)]="model.marca" name="marca" placeholder="Ej: ASUS, Dell..." />
        </div>
        <div class="input-group">
          <label>Nombre del Producto</label>
          <input type="text" [(ngModel)]="model.nombre" name="nombre" />
        </div>
      </div>

      <!-- Sección: Categoría y Subcategoría -->
      <div class="product-section">
        <div class="section-header">Categoría y Subcategoría</div>
        <div class="input-group">
          <label>Categoría</label>
          <select [(ngModel)]="model.categoria" name="categoria">
            <option value="">Selecciona una categoría</option>
            <option value="Cableado">Cableado</option>
            <option value="Periféricos">Periféricos</option>
            <option value="Almacenamiento">Almacenamiento</option>
            <option value="Portátiles">Portátiles</option>
            <option value="Torre PC">Torre PC</option>
            <option value="Red y conectividad">Red y conectividad</option>
          </select>
        </div>
        <div class="input-group">
          <label>Subcategoría</label>
          <select [(ngModel)]="model.subcategoria" name="subcategoria">
            <option value="">Selecciona una subcategoría</option>
            <option value="Disco duro y solido">Disco duro y solido</option>
            <option value="Placa base">Placa base</option>
            <option value="GPU">GPU</option>
            <option value="CPU">CPU</option>
            <option value="RAM">RAM</option>
            <option value="Fuente de alimentacion">Fuente de alimentacion</option>
          </select>
        </div>
      </div>

      <!-- Sección: Precios y Stock -->
      <div class="product-section">
        <div class="section-header">Precios y Stock</div>
        <div class="input-group">
          <label>Precio</label>
          <input type="text" [(ngModel)]="model.precio" name="precio" placeholder="Ej: 499.99" />
        </div>
        <div class="input-group">
          <label>Stock Disponible</label>
          <input type="text" [(ngModel)]="model.stock" name="stock" placeholder="Ej: 50" />
        </div>
      </div>



      <!-- Sección: Proveedor -->
<div class="product-section">
  <div class="section-header">Proveedor</div>
  <div class="input-group">
    <label>Selecciona un proveedor</label>
    <select [(ngModel)]="model.idProveedor" name="idProveedor" required>
      <option value="">Selecciona un proveedor</option>
      <option *ngFor="let p of proveedores" [value]="p.id">{{ p.nombre }} - {{ p.empresa }}</option>
    </select>
  </div>
</div>

      <!-- Botones -->
      <div style="display: flex; justify-content: flex-end;">
        <button class="btn btn-secondary" (click)="showModal = true">Guardar en Almacén</button>
        <button class="btn btn-primary" (click)="onSubmit()">Crear Producto</button>
      </div>
    </div>
  </main>
</div>

<!-- Modal para seleccionar almacenamiento -->
<div class="modal-overlay" [class.active]="showModal">
  <div class="modal-content">
    <div class="section-header">Selecciona el almacenamiento</div>
    <div class="storage-selector">
      <div 
        class="storage-card" 
        [class.active]="selectedTable === 'tienda'" 
        (click)="selectedTable = 'tienda'">
        <div class="storage-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-store-icon lucide-store"><path d="m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7"/><path d="M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"/><path d="M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4"/><path d="M2 7h20"/><path d="M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7"/></svg>
        </div>
        <div class="storage-name">Tienda</div>
      </div>
      <div 
        class="storage-card" 
        [class.active]="selectedTable === 'almacen1'" 
        (click)="selectedTable = 'almacen1'">
        <div class="storage-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-package-icon lucide-package"><path d="M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"/><path d="M12 22V12"/><polyline points="3.29 7 12 12 20.71 7"/><path d="m7.5 4.27 9 5.15"/></svg>
        </div>
        <div class="storage-name">Almacén 1</div>
      </div>
      <div 
        class="storage-card" 
        [class.active]="selectedTable === 'almacen2'" 
        (click)="selectedTable = 'almacen2'">
        <div class="storage-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-truck-icon lucide-truck"><path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"/><path d="M15 18H9"/><path d="M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14"/><circle cx="17" cy="18" r="2"/><circle cx="7" cy="18" r="2"/></svg>
        </div>
        <div class="storage-name">Almacén 2</div>
      </div>
      <div 
        class="storage-card" 
        [class.active]="selectedTable === 'almacen3'" 
        (click)="selectedTable = 'almacen3'">
        <div class="storage-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-factory-icon lucide-factory"><path d="M12 16h.01"/><path d="M16 16h.01"/><path d="M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z"/><path d="M8 16h.01"/></svg>
        </div>
        <div class="storage-name">Almacén 3</div>
      </div>
    </div>
    <div class="modal-buttons">
      <button class="btn btn-secondary" (click)="cancelSelection()">Cancelar</button>
      <button class="btn btn-primary" (click)="confirmSelection()">Confirmar</button>
    </div>
  </div>
</div>